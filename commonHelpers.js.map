{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/img/closebi_x-lg.svg","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","export default \"__VITE_ASSET__fa57d3b7__\"","import axios from 'axios';\n\nlet currentPage = 1;\nconst perPage = 15;\nconst API_KEY = '45065033-34b48c3d2ea0e7ba665d8e642'; // Get API key from environment variable\n\nexport async function fetchImages(query) {\n  if (!query) {\n    throw new Error('Search query is required');\n  }\n\n  try {\n    const response = await axios.get('https://api.pixabay.com/api/', {\n      params: {\n        key: API_KEY,\n        q: query,\n        page: currentPage,\n        per_page: perPage,\n      },\n    });\n\n    const data = response.data;\n    currentPage++; // Increment page number for next request\n\n    return data; // Return the entire data object\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error; // Propagate error for further handling\n  }\n}\n","'use strict';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderImages(images) {\n  const imageContainer = document.getElementById('image-container');\n\n  imageContainer.innerHTML = '';\n\n  if (images.length > 0) {\n    const imageCards = images.map(\n      image => `\n      <li class=\"gallery-link\">\n        <a class=\"card-link\" href=\"${image.largeImageURL}\" data-lightbox=\"gallery\" data-title=\"${image.tags}\">\n          <div class=\"card\">\n            <img class=\"image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            <div class=\"card-points\">\n              <div class=\"card-text\"><p>Likes: ${image.likes}</p></div>\n              <div class=\"card-text\"><p>Views: ${image.views}</p></div>\n              <div class=\"card-text\"><p>Comments: ${image.comments}</p></div>\n              <div class=\"card-text\"><p>Downloads: ${image.downloads}</p></div>\n            </div>\n          </div>\n        </a>\n      </li>\n    `\n    );\n    imageContainer.innerHTML = imageCards.join('');\n    const lightbox = new SimpleLightbox('[data-lightbox=\"gallery\"]');\n    lightbox.refresh();\n  } else {\n    imageContainer.innerHTML = ''; // Повідомлення, якщо немає зображень\n  }\n}\n","'use strict';\nimport iconErr2 from './img/bi_x-octagon.svg';\nimport iconErr1 from './img/closebi_x-lg.svg';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions.js';\ndocument.addEventListener('DOMContentLoaded', function () {\n  const formElement = document.querySelector('#search-form');\n  const loader = document.getElementById('loader');\n\n  formElement.addEventListener('submit', handleSearch);\n\n  function showToastWithIconAtEnd(message, iconUrl, timeout = 3000) {\n    iziToast.show({\n      position: 'topRight',\n      message: message,\n      backgroundColor: '#EF4040',\n      messageColor: `#fff`,\n      messageSize: '16',\n      maxWidth: 432,\n      iconUrl: iconErr2,\n      timeout: timeout,\n      class: 'iziToast-custom',\n      onOpening: function (instance, toast) {\n        const iconElement = document.createElement('div');\n        iconElement.className = 'custom-icon';\n        iconElement.style.backgroundImage = `url(${iconUrl})`;\n        toast.querySelector('.iziToast-message').appendChild(iconElement);\n      },\n    });\n  }\n\n  function handleSearch(event) {\n    event.preventDefault();\n    const query = document.querySelector('#search-input').value.trim();\n\n    if (query) {\n      clearGallery();\n      showLoader();\n      fetchImages(query)\n        .then(data => {\n          hideLoader();\n          if (data.hits && data.hits.length > 0) {\n            renderImages(data.hits);\n          } else {\n            NoImagesFound();\n          }\n        })\n        .catch(error => {\n          hideLoader();\n          console.error('Error searching images:', error);\n          showToastWithIconAtEnd(error.message, iconErr1, 3000);\n          clearGallery();\n        });\n    } else {\n      NoImagesFound();\n    }\n\n    formElement.reset();\n  }\n\n  function NoImagesFound() {\n    showToastWithIconAtEnd(\n      'Sorry, there are no images matching your search query. Please try again!',\n      iconErr1,\n      3000\n    );\n    clearGallery();\n  }\n\n  function clearGallery() {\n    const imageContainer = document.getElementById('image-container');\n    imageContainer.innerHTML = '';\n  }\n  function showLoader() {\n    const loader = document.getElementById('loader');\n    if (loader) {\n      loader.classList.add('visible');\n    } else {\n      console.error('Loader not found');\n    }\n  }\n\n  function hideLoader() {\n    const loader = document.getElementById('loader');\n    if (loader) {\n      loader.classList.remove('visible');\n    } else {\n      console.error('Loader not found');\n    }\n  }\n});\n"],"names":["iconErr2","iconErr1","currentPage","perPage","API_KEY","fetchImages","query","data","axios","error","renderImages","images","imageContainer","imageCards","image","SimpleLightbox","formElement","handleSearch","showToastWithIconAtEnd","message","iconUrl","timeout","iziToast","instance","toast","iconElement","event","clearGallery","showLoader","hideLoader","NoImagesFound","loader"],"mappings":"owBAAA,MAAeA,EAAA,kDCAAC,EAAA,kDCEf,IAAIC,EAAc,EAClB,MAAMC,EAAU,GACVC,EAAU,qCAET,eAAeC,EAAYC,EAAO,CACvC,GAAI,CAACA,EACH,MAAM,IAAI,MAAM,0BAA0B,EAG5C,GAAI,CAUF,MAAMC,GATW,MAAMC,EAAM,IAAI,+BAAgC,CAC/D,OAAQ,CACN,IAAKJ,EACL,EAAGE,EACH,KAAMJ,EACN,SAAUC,CACX,CACP,CAAK,GAEqB,KACtB,OAAAD,IAEOK,CACR,OAAQE,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACP,CACH,CCxBO,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAAiB,SAAS,eAAe,iBAAiB,EAIhE,GAFAA,EAAe,UAAY,GAEvBD,EAAO,OAAS,EAAG,CACrB,MAAME,EAAaF,EAAO,IACxBG,GAAS;AAAA;AAAA,qCAEsBA,EAAM,aAAa,yCAAyCA,EAAM,IAAI;AAAA;AAAA,sCAErEA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,iDAE3BA,EAAM,KAAK;AAAA,iDACXA,EAAM,KAAK;AAAA,oDACRA,EAAM,QAAQ;AAAA,qDACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAMpE,EACIF,EAAe,UAAYC,EAAW,KAAK,EAAE,EAC5B,IAAIE,EAAe,2BAA2B,EACtD,QAAO,CACpB,MACIH,EAAe,UAAY,EAE/B,CC3BA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMI,EAAc,SAAS,cAAc,cAAc,EAC1C,SAAS,eAAe,QAAQ,EAE/CA,EAAY,iBAAiB,SAAUC,CAAY,EAEnD,SAASC,EAAuBC,EAASC,EAASC,EAAU,IAAM,CAChEC,EAAS,KAAK,CACZ,SAAU,WACV,QAASH,EACT,gBAAiB,UACjB,aAAc,OACd,YAAa,KACb,SAAU,IACV,QAASnB,EACT,QAASqB,EACT,MAAO,kBACP,UAAW,SAAUE,EAAUC,EAAO,CACpC,MAAMC,EAAc,SAAS,cAAc,KAAK,EAChDA,EAAY,UAAY,cACxBA,EAAY,MAAM,gBAAkB,OAAOL,CAAO,IAClDI,EAAM,cAAc,mBAAmB,EAAE,YAAYC,CAAW,CACjE,CACP,CAAK,CACF,CAED,SAASR,EAAaS,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMpB,EAAQ,SAAS,cAAc,eAAe,EAAE,MAAM,OAExDA,GACFqB,IACAC,IACAvB,EAAYC,CAAK,EACd,KAAKC,GAAQ,CACZsB,IACItB,EAAK,MAAQA,EAAK,KAAK,OAAS,EAClCG,EAAaH,EAAK,IAAI,EAEtBuB,GAEZ,CAAS,EACA,MAAMrB,GAAS,CACdoB,IACA,QAAQ,MAAM,0BAA2BpB,CAAK,EAC9CS,EAAuBT,EAAM,QAASR,EAAU,GAAI,EACpD0B,GACV,CAAS,GAEHG,IAGFd,EAAY,MAAK,CAClB,CAED,SAASc,GAAgB,CACvBZ,EACE,2EACAjB,EACA,GACN,EACI0B,GACD,CAED,SAASA,GAAe,CACtB,MAAMf,EAAiB,SAAS,eAAe,iBAAiB,EAChEA,EAAe,UAAY,EAC5B,CACD,SAASgB,GAAa,CACpB,MAAMG,EAAS,SAAS,eAAe,QAAQ,EAC3CA,EACFA,EAAO,UAAU,IAAI,SAAS,EAE9B,QAAQ,MAAM,kBAAkB,CAEnC,CAED,SAASF,GAAa,CACpB,MAAME,EAAS,SAAS,eAAe,QAAQ,EAC3CA,EACFA,EAAO,UAAU,OAAO,SAAS,EAEjC,QAAQ,MAAM,kBAAkB,CAEnC,CACH,CAAC"}